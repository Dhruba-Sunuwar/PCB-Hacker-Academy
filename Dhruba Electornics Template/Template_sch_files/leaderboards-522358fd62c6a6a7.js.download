(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9757],{42808:function(e,r,n){"use strict";var t=n(50029),s=n(59499),l=n(64687),a=n.n(l),i=n(53531),o=n(5095),u=n(85893);function c(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}r.Z=function(e){var r;function n(r){return(0,u.jsx)(e,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach(function(r){(0,s.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}({},r))}return n.getRenderData=e.getRenderData,n.initPage=(r=(0,t.Z)(a().mark(function r(n){var t,s,l,u,c,d,p,f,m,h;return a().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=n.ctx,s=n.props,l=n.apiClient,u=s.self,c=s.currentGroup,d=t.query,p=(0,o.aK)(d),f=(0,o.VO)(d),m=(0,o.kG)(d),(0,i.Wr)({member:null==u?void 0:u.member,group:c})){r.next=10;break}return h=(0,o.jQ)({invite:p,group:c,ref:m,pending:f}).as,r.abrupt("return",{settings:{redirect:{destination:h,permanent:!1}}});case 10:if(!e.initPage){r.next=16;break}return r.next=13,e.initPage({ctx:t,props:s,apiClient:l});case 13:r.t0=r.sent,r.next=17;break;case 16:r.t0=s;case 17:return r.abrupt("return",r.t0);case 18:case"end":return r.stop()}},r)})),function(e){return r.apply(this,arguments)}),n}},47076:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSP:function(){return J},default:function(){return K}});var t,s,l=n(50029),a=n(59499),i=n(90116),o=n(17674),u=n(64687),c=n.n(u),d=n(67294),p=n(80008),f=n.n(p),m=n(73793),h=n(27849),v=n(29610),x=n(97059),b=n(53531),j=n(5095),g=n(54361),y=n(95151),O=n(70120),k=n(59607),w=n(42808),D=n(30697),P=n(36581),L=n(14251),M=n(14760),Z=n(73674),C=n(76958),_=n(20452),N=n(65009),I=n(55847),S=n(85893),Y=(0,_.$o)(),G=(0,d.memo)(function(e){var r=e.user,n=e.group,t=e.points,s=e.rank,l=e.type,a=e.outsideTopRanks,i=(0,m.bI)("isMobile").isMobile;return(0,S.jsxs)(I.zR,{children:[s<=3&&(0,S.jsx)(I.qm,{children:(0,S.jsx)("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)("path",{d:"M0 0L11 0V10.0442L5.73392 6.32786L0 10.0442L0 0Z",fill:1===s?"#F8CA60":2===s?L.O9.n5:"#A77B53"})})}),(0,S.jsx)(I.F9,{$outsideTopRanks:a,$rank:s,children:(0,S.jsx)(I.Q8,{variant:"t5",color:s<=3?L.O9.n1:L.O9.n5,textAlign:"center",lineHeight:25,children:"".concat(s)})}),(0,S.jsxs)(N.X,{flexGrow:1,flexShrink:1,alignItems:"center",children:[(0,S.jsx)(I.pQ,{children:(0,S.jsx)(Z.Z,{user:r,group:n,size:40,userPreview:!0})}),(0,S.jsx)(C.Z,{hoverUnderline:!0,user:r,group:n,component:"div",typographyVariant:"t6",maxLines:1,maxWidth:i?130:150,userPreview:!0})]}),(0,S.jsx)(I.wJ,{children:(0,S.jsx)(M.Z,{variant:"t10",maxLines:1,color:Y?L.O9.sd1:L.O9.g1,children:"".concat("all"!==l?"+":"").concat(t.toLocaleString("en-US"))})})]})}),T=(0,d.memo)(function(e){var r=e.group,n=e.userItems,t=e.type,s=e.selfItem,l=(0,m.bI)("isMobile").isMobile,a=(0,d.useMemo)(function(){var e=[];if((null==n?void 0:n.length)>0){var l=!1;null==n||n.forEach(function(n,a){e.push((0,S.jsx)(G,{user:n.user,group:r,rank:n.rank,points:n.points,type:t},a)),n.user.id===(null==s?void 0:s.userId)&&(l=!0)}),s&&!l&&e.push((0,S.jsxs)("div",{children:[(0,S.jsx)(I.aS,{children:(0,S.jsx)(M.Z,{variant:"t4",children:"Your rank"})}),(0,S.jsx)(I.$5,{children:(0,S.jsx)(G,{user:s.user,group:r,rank:(null==s?void 0:s.rank)||0,points:s.points,type:t,outsideTopRanks:!0})})]},"self"))}else e.push((0,S.jsx)(M.Z,{variant:"t7",color:L.O9.n5,children:"No activity yet"},"none"));return e},[s,r,n,t]);return(0,S.jsx)(I.k3,{children:(0,S.jsxs)(P.s,{gap:16,children:[(0,S.jsx)(I.V3,{children:(0,S.jsxs)(M.Z,{variant:l?"t6":"t4",children:["Leaderboard ","all"===t?"(all-time)":"7d"===t?"(7-day)":"(30-day)"]})}),(0,S.jsx)(P.s,{gap:16,children:a})]})})}),A=n(61022),E=n(96276),R=n(84236),q=n(30126),z=n(31357),$={firstName:"Your",lastName:"Name",metadata:{spData:JSON.stringify({lv:0,pcl:15,pts:16,pnl:21})}};function V(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function X(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?V(Object(n),!0).forEach(function(r){(0,a.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var F=function(e){var r,n,t,s=e.selfAllTime,l=e.self7Days,a=e.self30Days,u=e.allTime,c=e.past7Days,p=e.past30Days,h=e.groupLevels,v=(0,m.bI)("currentGroup","isMobile","self"),w=v.self,P=v.currentGroup,M=v.isMobile,_=v.dispatch,N=(0,g.C1)(),Y=(0,o.Z)(N,3),G=Y[0],z=Y[1],V=Y[2],X=(0,b.CP)({user:w,member:null==w?void 0:w.member,group:P}),F=!(null!=u&&null!==(r=u.users)&&void 0!==r&&r.length)&&!(null!=c&&null!==(n=c.users)&&void 0!==n&&n.length)&&!(null!=p&&null!==(t=p.users)&&void 0!==t&&t.length),Q=(null==c?void 0:c.updatedAt)||(null==p?void 0:p.updatedAt)||(null==u?void 0:u.updatedAt),B=(0,x._)(w||$)||{},H=B.level,J=B.pointsToNextLevel,K=void 0===J?0:J,U=(0,d.useCallback)(function(){_(D.or,{showSkoolPointsInfoModal:!0})},[_]),W=(0,d.useCallback)(function(){_(D.fi,function(){return{settingsModal:"adminGamification"}})},[_]),ee=(0,d.useCallback)(function(e,r,n){return(0,S.jsxs)(d.Fragment,{children:[e.onClick?(0,S.jsx)(I.Tc,{onClick:e.onClick,children:e.title}):(0,S.jsx)(I.pI,{children:(0,S.jsx)(O.r,{label:'"'.concat(e.title,'"'),href:e.href,as:e.as,newTab:!0})}),r+1===n.length?null:(0,S.jsx)(I.eP,{children:", "})]},"level-unlock-".concat(e.title,"-").concat(r))},[]),er=(0,d.useCallback)(function(e){var r,n,t,s=H>=e.number,l=null!==(r=null==e||null===(n=e.courses)||void 0===n?void 0:n.map(function(e){var r=(0,j.rE)({group:{name:P.name},course:{name:e.id}});return{href:r.href,as:r.as,title:(null==e?void 0:e.title)||"this course"}}))&&void 0!==r?r:[];(null==e||null===(t=e.actions)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.name)==="members_chat"&&l.unshift({title:"Chat with members",onClick:z});var a=(0,S.jsx)(I.MP,{children:" ".concat(null==e?void 0:e.percentOfMembers,"% of members")});return X&&(a=(0,S.jsx)(R.Z,{group:P,levels:null==e?void 0:e.number,children:a})),(0,S.jsxs)(I.S4,{children:[(0,S.jsx)(I.Sf,{children:(0,S.jsxs)(I.XO,{$unlocked:s,children:[s&&"".concat(null==e?void 0:e.number),!s&&(0,S.jsx)(E.J,{name:"Lock",size:17,color:L.O9.n7})]})}),(0,S.jsxs)(I.TH,{children:[(0,S.jsx)(I.Zd,{children:"Level ".concat(null==e?void 0:e.number," ").concat(null!=e&&e.title?" - "+(null==e?void 0:e.title):"")}),!!l.length&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(I.by,{children:"Unlock "}),l.map(ee)]}),a]})]},"level-block-".concat(null==e?void 0:e.number))},[P,ee,X,H,z]),en=(0,d.useMemo)(function(){var e=w||$;return(0,S.jsxs)(I.Yl,{children:[X&&(0,S.jsx)(I.fL,{variant:"icon-borderless",icon:"Gear",iconSize:22,onClick:W}),(0,S.jsx)(I.TX,{children:(0,S.jsxs)(I.bM,{children:[(0,S.jsx)(Z.Z,{user:e,disableLink:!w,group:P,showProgress:!0,showLevel:!0,size:M?144:200}),(0,S.jsx)(C.Z,{user:e,typographyVariant:M?"t3":"t1",maxWidth:"100%"}),(0,S.jsx)(I.mu,{children:(0,S.jsx)(A.Z,{group:P,user:e,noParens:!0,disableLink:!0})}),(0,S.jsx)(y.E,{points:K})]})}),(0,S.jsxs)(I.rY,{children:[!M&&(0,S.jsxs)(I.mb,{children:[(0,S.jsx)(I.rM,{children:(0,i.Z)(h).slice(0,5).map(er)}),(0,S.jsx)(I.rM,{children:(0,i.Z)(h).slice(5).map(er)})]}),M&&(0,S.jsx)(I.mb,{children:(0,S.jsx)("div",{style:{width:"100%"},children:(0,i.Z)(h).map(er)})})]}),G&&(0,S.jsx)(q.Z,{onClose:V,isLeaderboards:!0})]})},[P,h,K,er,w,W,X,M,G,V]);return(0,S.jsxs)(I.sg,{children:[en,(0,S.jsxs)(I.q$,{children:[(0,S.jsx)(I.lR,{children:F?"Leaderboards will be updated when there is more activity":"Last updated: ".concat(f()(Q).format("MMM Do YYYY h:mma"))}),!w&&(0,S.jsx)(k.z,{variant:"link",label:"How do points work?",typography:"t11",onClick:U,disableRipple:!0,style:{height:"auto"}})]}),(0,S.jsxs)(I.xI,{children:[(0,S.jsx)(T,{group:P,userItems:null==c?void 0:c.users,type:"7d",selfItem:l}),(0,S.jsx)(T,{group:P,userItems:null==p?void 0:p.users,type:"30d",selfItem:a}),(0,S.jsx)(T,{group:P,userItems:null==u?void 0:u.users,type:"all",selfItem:s})]})]})},Q=function(e){return(0,S.jsx)(I.OB,{children:e.isGames&&e.isMRR?(0,S.jsx)(z.x,X({},e)):(0,S.jsx)(F,X({},e))})};Q.getRenderData=(t=(0,l.Z)(c().mark(function e(r){var n,t,s,l,a,i,o,u,d;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.ctx,t=r.apiClient,s=(0,j.Z9)(n.query),l=!!n.query.affiliates,a=!!n.query.mrr,!("games"===s&&a)){e.next=22;break}return i=n.query.ld||f().tz("America/Los_Angeles").format("YYYYMM"),e.next=9,t.readCommonData({groupName:s});case 9:if(o=e.sent.data,!l){e.next=17;break}return e.next=14,t.getGamesLeaderboardAffiliates({groupName:s,list:"at"===i?"re-30d":"rm-".concat(i),offset:0,limit:10});case 14:return u=e.sent.data,e.abrupt("return",{data:X(X({},u),{},{common:o})});case 17:return e.next=19,t.getGamesLeaderboard({groupName:s,list:"at"===i?"gr-30d":"mrr-".concat(i),offset:0,limit:20});case 19:return d=e.sent.data,e.abrupt("return",{data:X(X({},d),{},{common:o})});case 22:return e.next=24,t.readGroupLeaderboardsData({groupName:s});case 24:return e.abrupt("return",e.sent);case 25:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),Q.initPage=(s=(0,l.Z)(c().mark(function e(r){var n,t,s,l,a,i,o,u,d,p,m,x,b;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.props,l=r.ctx,a=s.self,i=s.currentGroup,o=s.renderData,u="games"===i.name,d=l.query.ld||f().tz("America/Los_Angeles").format("YYYYMM"),p=!!l.query.affiliates,m=!!l.query.mrr,x={},u&&m?x.rows=(null==o?void 0:o.groups)||(null==o?void 0:o.users)||[]:(x.selfAllTime=o.self?X({user:a},o.self):null,x.self7Days=o.self7D?X({user:a},o.self7D):null,x.self30Days=o.self30D?X({user:a},o.self30D):null,x.allTime=o.all||null,x.past7Days=o["7D"]||null,x.past30Days=o["30D"]||null,x.groupLevels=o.groupLevels.levels||null),delete s.renderData,b="Leaderboards \xb7 ".concat(i.metadata.displayName),e.abrupt("return",X(X({},x),{},{settings:{pageTitle:b,pageMeta:{description:(0,v.Kv)({content:i.metadata.description})||""},mainMenuItem:h.t5.GroupDefaultLeaderboards,mainMenuName:h.K0.GroupDefault},isGames:"games"===i.name,isMRR:m,isAffiliates:p,leaderboardsDateQuery:d,gamesEndDate:(null==o||null===(n=o.leaderboard)||void 0===n||null===(n=n.params)||void 0===n?void 0:n.until)||null,gamesStartDate:(null==o||null===(t=o.leaderboard)||void 0===t||null===(t=t.params)||void 0===t?void 0:t.since)||null},s));case 11:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)});var B=(0,w.Z)(Q),H=n(78271),J=!0,K=(0,H.Z)(B)},83087:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[group]/-/leaderboards",function(){return n(47076)}])}},function(e){e.O(0,[4027,630,6911,6124,1613,2065,8271,842,1357,2888,9774,179],function(){return e(e.s=83087)}),_N_E=e.O()}]);