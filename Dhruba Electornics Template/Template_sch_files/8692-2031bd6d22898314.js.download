"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8692],{31593:function(e,n,t){t.d(n,{t:function(){return ei}});var i=t(67294),r=t(73793),o=t(53531),a=t(50029),l=t(17674),c=t(64687),s=t.n(c),d=t(14251),u=t(96276),p=t(76958),m=t(80199),f=t(59607),b=t(11163),h=t(80008),x=t.n(h),g=t(45697),v=t.n(g),y=t(23450),j=t.n(y),w=t(5212),O=t(97221),C=t(30126),P=t(30697),M=t(73674),_=t(88325),z=t(5095),k=t(91194),I=t(99802),Z=t(54361),N=t(95419),D=t(50378),q=t(20668),S=(0,D.iv)(["padding:10px 10px 16px 10px;gap:10px;width:100%;"]),R=D.ZP.div.withConfig({displayName:"styled__MemberItemWrapper",componentId:"sc-qwyv4g-0"})(["padding:16px 0px 20px 0px;display:flex;gap:16px;",""],function(e){return e.theme.isMobile&&S}),A=D.ZP.div.withConfig({displayName:"styled__MemberItemRight",componentId:"sc-qwyv4g-1"})(["flex:1;overflow:hidden;"]),W=(0,D.iv)(["width:100%;"]),E=D.ZP.div.withConfig({displayName:"styled__MemberItemRightTop",componentId:"sc-qwyv4g-2"})(["display:flex;justify-content:space-between;margin-bottom:8px;",""],function(e){return e.theme.isMobile&&W}),L=(0,D.iv)(["padding-right:4px;"]),Y=D.ZP.div.withConfig({displayName:"styled__UserNameHandleWrapper",componentId:"sc-qwyv4g-3"})(["display:flex;flex-direction:column;overflow:hidden;flex:1;> div:first-child{display:flex;align-items:center;> div{color:",";",";}}",""],function(e){return e.theme.isDarkTheme?d.O9.sd1:d.O9.g1},q.c.t10,function(e){return e.theme.isMobile&&L}),J=(0,D.iv)(["margin-left:4px;"]),T=D.ZP.div.withConfig({displayName:"styled__UserRoleTag",componentId:"sc-qwyv4g-4"})(["margin-left:8px;",""],function(e){return e.theme.isMobile&&J}),G=D.ZP.div.withConfig({displayName:"styled__ButtonWrapper",componentId:"sc-qwyv4g-5"})(["display:flex;gap:8px;button{height:40px;padding:0px 16px;","}"],q.c.t8),$=D.ZP.div.withConfig({displayName:"styled__MemberBio",componentId:"sc-qwyv4g-6"})(["margin-bottom:14px;",""],q.c.t7),B=(0,D.iv)(["flex-direction:column;gap:8px;> div:first-child{width:auto;}"]),F=D.ZP.div.withConfig({displayName:"styled__MemberInfo",componentId:"sc-qwyv4g-7"})(["display:flex;> div:first-child{width:320px;}",""],function(e){return e.theme.isMobile&&B}),U=D.ZP.div.withConfig({displayName:"styled__MemberInfoItem",componentId:"sc-qwyv4g-8"})(["display:flex;align-items:center;gap:16px;color:",";> div:first-child{height:16px;width:16px;color:",";}",""],function(e){return e.$color||d.O9.n7},d.O9.n5,q.c.t7),V=D.ZP.div.withConfig({displayName:"styled__MemberColumn",componentId:"sc-qwyv4g-9"})(["display:flex;flex-direction:column;gap:8px;"]),H=D.ZP.div.withConfig({displayName:"styled__OnlineDot",componentId:"sc-qwyv4g-10"})(["height:16px;width:16px;border-radius:50%;background:",";"],d.O9.s2),K=D.ZP.div.withConfig({displayName:"styled__ChurnCircle",componentId:"sc-qwyv4g-11"})(["height:15px;width:15px;display:flex;justify-content:center;align-items:center;border:1px solid ",";border-radius:50%;> div{color:",";height:7px;width:7px;}"],d.O9.e2,d.O9.e2),Q=t(85893),X=function(e){var n=e.icon,t=e.label,i=e.color,r=void 0===i?d.O9.n7:i,o=e.online;return t?(0,Q.jsxs)(U,{$color:r,children:[o?(0,Q.jsx)(H,{}):(0,Q.jsx)(u.J,{name:n}),(0,Q.jsx)("span",{children:t})]},t):null};v().shape({approvedAt:(0,w.nz)({}),firstName:(0,w.nz)({}),lastName:(0,w.nz)({}),name:(0,w.nz)({}),id:(0,w.nz)({}),metadata:v().shape({chatRequest:(0,w.Wb)({}),lastOffline:(0,w.Wb)({}),location:(0,w.nz)({}),online:(0,w.Wb)({}),bio:(0,w.nz)({})}),member:v().shape({billingDeclined:(0,w.nz)({}),billingCanceled:(0,w.nz)({}),approvedAt:(0,w.nz)({}),churned:(0,w.nz)({}),role:(0,w.nz)({}),metadata:v().shape({mbscpe:(0,w.Wb)({}),mmbp:(0,w.nz)({}),mbsfprt:(0,w.nz)({})})})});var ee=(0,i.memo)(function(e){var n,t,c=e.user,h=e.isAdmin,g=(0,r.bI)("currentGroup","isMobile","self"),v=g.isMobile,y=g.self,w=g.currentGroup,D=g.dispatch,q=(0,Z.C1)(),S=(0,l.Z)(q,3),W=S[0],L=S[1],J=S[2],B=(0,b.useRouter)(),H=(0,z.q$)(B.query),ee=w.metadata.createdBy===c.id,en=c.metadata,et=en.bio,ei=en.online,er=en.lastOffline,eo=en.location,ea=(null==c||null===(n=c.member)||void 0===n?void 0:n.approvedAt)||(null==c?void 0:c.approvedAt),el=(0,i.useCallback)(function(){D(P.wj,c)},[D,c]),ec=(0,i.useCallback)((0,a.Z)(s().mark(function e(){var n,t,i,r,o,a;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.Z.sendChatRequest({userId:c.id,groupId:w.id});case 2:if(t=(n=e.sent).data,(null==(i=n.error)?void 0:i.status)!==429){e.next=7;break}return e.abrupt("return",D(P.vb,!0));case 7:if(!t){e.next=19;break}if(o=(r=t.channel).id,a=r.metadata.lastRead,!v){e.next=16;break}return e.next=14,(0,k.VF)(B,(0,z.rv)({channelId:o,chatLastRead:a}));case 14:e.next=17;break;case 16:D(P.WT,function(){return{chatModalProps:{id:o,lastRead:a}}});case 17:e.next=20;break;case 19:D(P.bI,{message:"Chat request error",severity:"error"});case 20:case"end":return e.stop()}},e)})),[w,D,v,B,c]),es=(0,i.useMemo)(function(){var e=!c.metadata.chatRequest;return c.id===(null==y?void 0:y.id)?null:e?(0,Q.jsx)(f.z,{icon:"ChatOff",label:"Chat",variant:v?"icon-disabled":"disabled",onClick:L}):(0,Q.jsx)(O.Z,{reason:o.lT.MemberInteraction,onSuccess:ec,children:function(e){var n=e.onClick;return(0,Q.jsx)(f.z,{icon:"Chat",label:"Chat",onClick:n,variant:v?"icon":"secondary"})}})},[c,ec,y,v,L]),ed=(0,i.useMemo)(function(){return h&&c.id!==(null==y?void 0:y.id)?(0,Q.jsx)(f.z,{iconSize:17,label:"Membership",icon:"GearOutlined",onClick:el,variant:v?"icon":"secondary"}):null},[h,v,el,c,y]),eu=(0,i.useMemo)(function(){var e,n=ea&&("banned"!==H||(null==c||null===(e=c.member)||void 0===e?void 0:e.churned)),t=[{icon:"Clock",online:ei,label:ei?" Online now":er?" Active ".concat((0,_.ur)({value:er,justNow:!1,ago:!0})," ago"):""},{icon:"NewCalendar",label:n?"Joined ".concat(x()(ea).format("MMM D, YYYY")):""}];return eo&&t.push({icon:"Location",label:eo}),(0,Q.jsx)(V,{children:t.map(X)})},[er,ei,eo,ea,c,H]),ep=(0,i.useMemo)(function(){var e;if(null!=c&&null!==(e=c.member)&&void 0!==e&&e.churned&&"banned"!==H)return(0,Q.jsxs)(U,{$color:d.O9.e2,children:[(0,Q.jsx)(K,{children:(0,Q.jsx)(u.J,{name:"Close"})}),(0,Q.jsx)("span",{children:"Churned ".concat(x()(c.member.churned).format("MMM D, YYYY"))})]})},[c,H]),em=(0,i.useMemo)(function(){var e,n,t=(null!==(e=null==c||null===(n=c.member)||void 0===n?void 0:n.metadata)&&void 0!==e?e:{}).mmbp;return"banned"===H?null:(0,Q.jsxs)(U,{children:[(0,Q.jsx)(u.J,{name:"Tag"}),(0,Q.jsx)("span",{children:t?"".concat((0,I.O5)(JSON.parse(t))," /month"):"Free"})]})},[c,H]),ef=(0,i.useMemo)(function(){var e=null!==(s=null==c?void 0:c.member)&&void 0!==s?s:{},n=e.billingCanceled,t=e.billingDeclined,i=e.metadata,r=null!=i?i:{},o=r.mmbp,a=r.mbscpe,l=r.mbsfprt;if("banned"===H)return null;if(a||!o){var s,p,m=j()("day",x().unix(t?l:a).diff(x()(),"days"),!0),f="Renews in ".concat(m),b="Renew";return(n||t)&&(f="".concat(n?"Cancelled":"Declined"," (churns in ").concat(m,")"),b="Warning",p=d.O9.e2),o||(f="Lifetime access"),(0,Q.jsxs)(U,{$color:p,children:[(0,Q.jsx)(u.J,{name:b,color:p}),(0,Q.jsx)("span",{children:f})]})}},[c,H]),eb=(0,i.useMemo)(function(){return h?(0,Q.jsxs)(V,{children:[em,ef,ep]}):null},[em,ep,ef,h]),eh=null;if(ee)eh="Creator";else switch(null==c||null===(t=c.member)||void 0===t?void 0:t.role){case"group-admin":eh="Admin";break;case"group-moderator":eh="Moderator"}return(0,Q.jsxs)(R,{children:[(0,Q.jsx)(M.Z,{size:v?40:48,user:c,showLevel:!0,userPreview:!0,group:w}),(0,Q.jsxs)(A,{children:[(0,Q.jsxs)(E,{children:[(0,Q.jsxs)(Y,{children:[(0,Q.jsxs)("div",{children:[(0,Q.jsx)(p.Z,{user:c,typographyVariant:v?"t5":"t6"}),eh&&(0,Q.jsx)(T,{children:"(".concat(eh,")")})]}),(0,Q.jsx)(m.v,{user:c,variant:"handle",typography:"t10"})]}),(0,Q.jsxs)(G,{children:[es,ed]})]}),et&&(0,Q.jsx)($,{children:et}),(0,Q.jsxs)(F,{children:[eu,eb]})]}),W&&(0,Q.jsx)(C.Z,{user:c,onClose:J})]})}),en=(0,D.iv)(["padding:0px;border-radius:0px;border-width:1px 0px;"]),et=D.ZP.div.withConfig({displayName:"styled__MembersListWrapper",componentId:"sc-ne2uns-0"})(["display:flex;flex-direction:column;padding:0px 16px;background:",";border-radius:10px;border:1px solid ",";> div:not(:last-child){border-bottom:1px solid ",";}",""],d.O9.n1,d.O9.n3,d.O9.n3,function(e){return e.theme.isMobile&&en}),ei=(0,i.memo)(function(e){var n=e.users,t=(0,r.bI)("currentGroup","self"),a=t.self,l=t.currentGroup,c=(0,i.useMemo)(function(){return(0,o.q2)({group:l,user:a,member:null==a?void 0:a.member})},[a,l]),s=(0,i.useCallback)(function(e){return(0,Q.jsx)(ee,{user:e,isAdmin:c},null==e?void 0:e.id)},[c]);return(0,Q.jsx)(et,{children:n.map(s)})})},81737:function(e,n,t){t.d(n,{t:function(){return Z}});var i=t(59499),r=t(67294),o=t(73793),a=t(90116),l=t(4730),c=t(50378),s=t(20668),d=t(14251),u=c.ZP.div.withConfig({displayName:"styled__DesktopPaginationWrapper",componentId:"sc-4zz1jl-0"})(["display:flex;justify-content:space-between;align-items:center;"]),p=c.ZP.div.withConfig({displayName:"styled__DesktopPaginationControls",componentId:"sc-4zz1jl-1"})(["display:flex;gap:4px;align-items:center;"]),m=c.ZP.div.withConfig({displayName:"styled__DesktopPaginationMeta",componentId:"sc-4zz1jl-2"})(["color:",";",";"],d.O9.n5,s.c.t11),f=t(12967),b=t(59607),h=t(85893),x=["onChange","pageSize","totalCount","currentPage","disableMeta"];function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var y=(0,r.memo)(function(e){var n=e.onChange,t=e.pageSize,i=e.totalCount,o=e.currentPage,c=e.disableMeta,s=(0,l.Z)(e,x),d=(0,r.useMemo)(function(){return Math.ceil(i/t)},[i,t]),g=(0,r.useMemo)(function(){var e=d>7,n=[],t=e&&o>4,i=e&&o<d-3;if(t&&i)n=[o-1,o,o+1];else{for(var r=7===d,l=o<5||5===o&&5===d||r,c=l?d:1,s=l?2:d-4;1!==d&&n.length<4&&s!==c;)n.push(s),s++;r&&n.push(6)}var u=1===d?[]:[d];return[1].concat(t?["..."]:[],(0,a.Z)(n),i?["..."]:[],u)},[o,d]),y=(0,r.useCallback)(function(e,t){return(0,h.jsx)(b.z,{label:e,active:e===o,variant:"pagination-number",onClick:function(){return n(e)},style:"..."===e?{pointerEvents:"none"}:void 0},t)},[o,n]),j=(0,r.useMemo)(function(){return g.map(y)},[g,y]),w=(0,r.useMemo)(function(){if(c)return null;var e=t*(o-1)+1,n=Math.min(e+t-1,i);return"".concat((0,f.x6)(e),"-").concat((0,f.x6)(n)," of ").concat((0,f.x6)(i))},[o,t,i,c]);return(0,h.jsxs)(u,v(v({},s),{},{children:[(0,h.jsxs)(p,{children:[(0,h.jsx)(b.z,{icon:"ArrowLeft",label:"Previous",iconLeft:!0,iconSize:12,variant:"pagination-text",disabled:1===o,onClick:function(){return n(o-1)}}),j,(0,h.jsx)(b.z,{icon:"ArrowRight",label:"Next",iconSize:12,variant:"pagination-text",disabled:o===d,onClick:function(){return n(o+1)}})]}),w&&(0,h.jsx)(m,{children:w})]}))}),j=c.ZP.div.withConfig({displayName:"styled__MobilePaginationWrapper",componentId:"sc-1ezuilf-0"})(["width:100%;display:flex;flex-direction:column;align-items:center;"]),w=c.ZP.div.withConfig({displayName:"styled__MobilePaginationButtons",componentId:"sc-1ezuilf-1"})(["margin-bottom:8px;display:flex;gap:16px;"]),O=c.ZP.div.withConfig({displayName:"styled__MobilePaginationMeta",componentId:"sc-1ezuilf-2"})(["color:",";",""],d.O9.n5,s.c.t11),C=["onChange","pageSize","totalCount","currentPage","disableMeta"];function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var _={width:100,border:"1px solid ".concat(d.O9.n3)},z=(0,r.memo)(function(e){var n=e.onChange,t=e.pageSize,i=e.totalCount,o=e.currentPage,a=e.disableMeta,c=(0,l.Z)(e,C),s=(0,r.useMemo)(function(){return Math.ceil(i/t)},[i,t]),d=(0,r.useMemo)(function(){return a?null:"page ".concat((0,f.x6)(o)," of ").concat((0,f.x6)(s))},[o,s,a]);return(0,h.jsxs)(j,M(M({},c),{},{children:[(0,h.jsxs)(w,{children:[(0,h.jsx)(b.z,{icon:"ArrowLeft",label:"Previous",iconLeft:!0,iconSize:14,variant:"pagination-text",disabled:1===o,onClick:function(){return n(o-1)},style:_}),(0,h.jsx)(b.z,{icon:"ArrowRight",label:"Next",iconSize:14,variant:"pagination-text",disabled:o===s,onClick:function(){return n(o+1)},style:_})]}),d&&(0,h.jsx)(O,{children:d})]}))});function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach(function(n){(0,i.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var Z=(0,r.memo)(function(e){return(0,o.bI)("isMobile").isMobile?(0,h.jsx)(z,I({},e)):(0,h.jsx)(y,I({},e))})}}]);